<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//ibatis.apache.org//DTD Mapper 3.0//EN" 
						"http://ibatis.apache.org/dtd/ibatis-3-mapper.dtd">
<mapper namespace="kr.kro.bbanggil.bakery.mapper.BakeryMapper">
	<resultMap id="menuResultMap" type="kr.kro.bbanggil.bakery.dto.MenuResponseDTO">
		<result property="menuNo" column="menu_no"></result>
		<result property="menuName" column="menu_name"></result>
		<result property="menuPrice" column="menu_price"></result>
		<result property="menuPopulity" column="menu_info"></result>
		<result property="bakeryNo" column="bakery_no"></result>
		<result property="categoryNo" column="category_no"></result>
			
		<association property="fileResponseDto" javaType="kr.kro.bbanggil.bakery.dto.FileResponseDTO">
			<result property="changeName" column="change_name"></result>
			<result property="folderNamePath" column="folder_name_path"></result>
			<result property="resourcesPath" column="resources_path"></result>
		</association>
	</resultMap>
	

	<insert id="menuInsert">
		INSERT INTO menu VALUES(menu_seq.nextval,
								#{menuName},
								#{menuPrice},
								#{menuPopulity},
								1,
								#{menuCategory})
	</insert>
	
	<select id="getCategory">
		SELECT category_no AS categoryNo,
			   category
		FROM menu_category
	</select>
</mapper>